{
  if (args.length >= 3) {
    Object o=args[0].evaluate(bindings);
    Evaluable var=args[1];
    String name=(var instanceof VariableExpr) ? ((VariableExpr)var).getName() : ((String)var.evaluate(bindings));
    if (o != null) {
      Object oldValue=bindings.get(name);
      try {
        bindings.put(name,o);
        return args[2].evaluate(bindings);
      }
  finally {
        if (oldValue != null) {
          bindings.put(name,oldValue);
        }
 else {
          bindings.remove(name);
        }
      }
    }
  }
  return null;
}
