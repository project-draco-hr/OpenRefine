{
synchronized (this) {
    File dir=ProjectManager.singleton.getProjectDir(id);
    File tempFile=new File(dir,"data.temp.zip");
    try {
      saveToFile(tempFile);
    }
 catch (    Exception e) {
      e.printStackTrace();
      logger.warn("Failed to save project {}",id);
      return;
    }
    File file=new File(dir,"data.zip");
    File oldFile=new File(dir,"data.old.zip");
    if (file.exists()) {
      file.renameTo(oldFile);
    }
    tempFile.renameTo(file);
    if (oldFile.exists()) {
      oldFile.delete();
    }
    lastSave=new Date();
    logger.info("Saved project '{}'",id);
  }
}
