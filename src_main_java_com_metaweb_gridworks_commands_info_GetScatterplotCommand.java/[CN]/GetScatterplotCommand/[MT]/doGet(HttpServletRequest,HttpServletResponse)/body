{
  try {
    long start=System.currentTimeMillis();
    Project project=getProject(request);
    Engine engine=getEngine(request,project);
    JSONObject conf=getJsonParameter(request,"plotter");
    response.setHeader("Content-Type","image/png");
    ServletOutputStream sos=null;
    try {
      sos=response.getOutputStream();
      draw(sos,project,engine,conf);
    }
  finally {
      sos.close();
    }
    Gridworks.log("Drawn scatterplot in " + (System.currentTimeMillis() - start) + "ms");
  }
 catch (  Exception e) {
    e.printStackTrace();
    respondException(response,e);
  }
}
