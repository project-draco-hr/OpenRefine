{
  JSONObject progress=JSONUtilities.getObject(job.config,"progress");
  if (progress == null) {
    progress=new JSONObject();
    JSONUtilities.safePut(job.config,"progress",progress);
  }
  JSONUtilities.safePut(progress,"message",message);
  JSONUtilities.safePut(progress,"percent",percent);
  JSONUtilities.safePut(progress,"memory",Runtime.getRuntime().totalMemory() / 1000000);
  JSONUtilities.safePut(progress,"maxmemory",Runtime.getRuntime().maxMemory() / 1000000);
}
