{
  response.setHeader("Content-Type","application/json");
  JSONWriter writer=new JSONWriter(response.getWriter());
  String type=request.getParameter("type_strict");
  String prefix=request.getParameter("prefix");
  try {
    writer.object();
    writer.key("prefix");
    writer.value(prefix);
    writer.key("result");
    writer.array();
    List<RDFNode> nodes;
    if (type != null && type.trim().equals("property")) {
      nodes=VocabularyManager.getSingleton(servlet).searchProperties(prefix);
    }
 else {
      nodes=VocabularyManager.getSingleton(servlet).searchClasses(prefix);
    }
    for (    RDFNode c : nodes) {
      c.writeAsSearchResult(writer);
    }
    writer.endArray();
    writer.endObject();
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new ServletException(e);
  }
}
