{
  RdfSchema schema=Util.getProjectSchema(project);
  Model model=ModelFactory.createDefaultModel();
  URI baseUri=schema.getBaseUri();
  Node root=schema.getRoot();
  Resource[] blanks=new Resource[schema.get_blanks().size()];
  for (int i=0; i < blanks.length; i++) {
    blanks[i]=model.createResource();
  }
  RowVisitor visitor=new RdfRowVisitor(model,baseUri,root,blanks);
  FilteredRows filteredRows=engine.getAllFilteredRows();
  filteredRows.accept(project,visitor);
  model.write(writer,format);
}
