{
  String propertyID=node.getString("id");
  String expectedTypeID=node.getString("expected");
  writer.key(propertyID);
  writer.array();
{
    if (!expectedTypeID.startsWith("/type/")) {
      writer.object();
      writer.key("limit");
      writer.value(10);
      writer.key("optional");
      writer.value(true);
{
        boolean hasSubProperties=(node.has("properties") && !node.isNull("properties"));
        if (!hasSubProperties || (node.has("included") && node.getBoolean("included"))) {
          writer.key("name");
          writer.value(null);
          writer.key("id");
          writer.value(null);
          writer.key("guid");
          writer.value(null);
          writer.key("type");
          writer.array();
          writer.endArray();
        }
        if (hasSubProperties) {
          formulateQueryNode(node.getJSONArray("properties"),writer);
        }
      }
      writer.endObject();
    }
  }
  writer.endArray();
}
