{
  if (args.length == 2) {
    Object o1=args[0];
    Object o2=args[1];
    if (o1 != null && o2 != null && o2 instanceof String) {
      String str=(o1 instanceof String) ? (String)o1 : o1.toString();
      String encoding=((String)o2).toLowerCase();
      if (encoding == null)       encoding="metaphone3";
      if ("doublemetaphone".equalsIgnoreCase(encoding)) {
        return metaphone2.key(str);
      }
 else       if ("metaphone3".equalsIgnoreCase(encoding)) {
        return metaphone3.key(str);
      }
 else       if ("metaphone".equalsIgnoreCase(encoding)) {
        return metaphone.key(str);
      }
 else       if ("soundex".equalsIgnoreCase(encoding)) {
        return soundex.key(str);
      }
 else {
        return new EvalError(ControlFunctionRegistry.getFunctionName(this) + " doesn't know how to handle the '" + encoding+ "' encoding.");
      }
    }
  }
  return new EvalError(ControlFunctionRegistry.getFunctionName(this) + " expects 3 strings");
}
