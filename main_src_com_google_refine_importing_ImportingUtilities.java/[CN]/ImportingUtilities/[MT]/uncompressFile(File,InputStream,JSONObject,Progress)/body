{
  String fileName=JSONUtilities.getString(fileRecord,"fileName","unknown");
  File file2=allocateFile(rawDataDir,fileName);
  progress.setProgress("Uncompressing " + fileName,-1);
  saveStreamToFile(uncompressedIS,file2,null);
  JSONUtilities.safePut(fileRecord,"declaredEncoding",(String)null);
  JSONUtilities.safePut(fileRecord,"declaredMimeType",(String)null);
  String location=JSONUtilities.getString(fileRecord,"location","");
  location=location.substring(0,location.lastIndexOf('/')) + "/" + file2;
  JSONUtilities.safePut(fileRecord,"location",location);
  return file2;
}
