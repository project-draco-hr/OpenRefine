{
  if (args.length >= 1) {
    Object o1=args[0];
    if (args.length == 2) {
      if (o1 instanceof Calendar || o1 instanceof Date) {
        Object o2=args[1];
        if (o2 instanceof String) {
          DateFormat formatter=new SimpleDateFormat((String)o2);
          return formatter.format(o1 instanceof Date ? ((Date)o1) : ((Calendar)o1).getTime());
        }
      }
    }
 else     if (args.length == 1) {
      if (o1 instanceof String) {
        return (String)o1;
      }
 else       if (o1 != null) {
        return StringUtils.toString(o1);
      }
    }
  }
  return new EvalError("ToString accepts an object an optional second argument containing a date format string");
}
