{
  if (fileName.endsWith(".tar.gz") || fileName.endsWith(".tgz")) {
    return new TarInputStream(new GZIPInputStream(is));
  }
 else   if (fileName.endsWith(".tar.bz2")) {
    return new TarInputStream(new CBZip2InputStream(is));
  }
 else   if (fileName.endsWith(".tar")) {
    return new TarInputStream(is);
  }
 else {
    return new ZipInputStream(is);
  }
}
