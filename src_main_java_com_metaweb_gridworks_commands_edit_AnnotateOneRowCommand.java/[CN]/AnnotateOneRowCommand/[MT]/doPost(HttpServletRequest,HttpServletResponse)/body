{
  response.setCharacterEncoding("UTF-8");
  response.setHeader("Content-Type","application/json");
  try {
    Project project=getProject(request);
    int rowIndex=Integer.parseInt(request.getParameter("row"));
    String starredString=request.getParameter("starred");
    if (starredString != null) {
      boolean starred="true".endsWith(starredString);
      String description=(starred ? "Star row " : "Unstar row ") + (rowIndex + 1);
      StarOneRowProcess process=new StarOneRowProcess(project,description,rowIndex,starred);
      performProcessAndRespond(request,response,project,process);
    }
 else {
      respond(response,"{ \"code\" : \"error\", \"message\" : \"invalid command parameters\" }");
    }
  }
 catch (  Exception e) {
    respondException(response,e);
  }
}
