{
  String mimeType=JSONUtilities.getString(fileRecord,"declaredMimeType",null);
  File rawDataDir=file.getParentFile();
  InputStream archiveIS=tryOpenAsArchive(file,mimeType);
  if (archiveIS != null) {
    try {
      if (explodeArchive(rawDataDir,archiveIS,fileRecord,fileRecords,progress)) {
        file.delete();
        return true;
      }
    }
  finally {
      try {
        archiveIS.close();
      }
 catch (      IOException e) {
      }
    }
  }
  InputStream uncompressedIS=tryOpenAsCompressedFile(file,mimeType);
  if (uncompressedIS != null) {
    try {
      File file2=uncompressFile(rawDataDir,uncompressedIS,fileRecord,progress);
      file.delete();
      file=file2;
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
 finally {
      try {
        archiveIS.close();
      }
 catch (      IOException e) {
      }
    }
  }
  postProcessSingleRetrievedFile(file,fileRecord);
  JSONUtilities.append(fileRecords,fileRecord);
  return false;
}
