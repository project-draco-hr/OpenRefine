{
  String data_dir=Configurations.get("gridworks.data_dir");
  if (data_dir != null) {
    return new File(data_dir);
  }
  String os=Configurations.get("os.name").toLowerCase();
  if (os.contains("windows")) {
    DataPath localDataPath=JDataPathSystem.getLocalSystem().getLocalDataPath("Gridworks");
    File data=new File(localDataPath.getPath());
    data.mkdirs();
    return data;
  }
 else   if (os.contains("mac os x")) {
    String home=System.getProperty("user.home");
    String data_home=(home != null) ? home + "/Library/Application Support/Gridworks" : ".gridworks";
    File data=new File(data_home);
    data.mkdirs();
    return data;
  }
 else {
    String data_home=System.getenv("XDG_DATA_HOME");
    if (data_home == null) {
      String home=System.getProperty("user.home");
      if (home == null)       home=".";
      data_home=home + "/.local/share";
    }
    File data=new File(data_home + "/gridworks");
    data.mkdirs();
    return data;
  }
}
