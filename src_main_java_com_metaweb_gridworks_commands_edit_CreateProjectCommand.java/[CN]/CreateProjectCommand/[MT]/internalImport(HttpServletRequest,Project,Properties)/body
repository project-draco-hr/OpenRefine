{
  MultipartParser parser=new MultipartParser(request,1024 * 1024 * 1024);
  if (parser != null) {
    Part part=null;
    String url=null;
    while ((part=parser.readNextPart()) != null) {
      if (part.isFile()) {
        FilePart filePart=(FilePart)part;
        internalImportFile(project,options,filePart.getFileName(),filePart.getInputStream());
      }
 else       if (part.isParam()) {
        ParamPart paramPart=(ParamPart)part;
        String paramName=paramPart.getName();
        if (paramName.equals("raw-text")) {
          StringReader reader=new StringReader(paramPart.getStringValue());
          try {
            internalInvokeImporter(project,new TsvCsvImporter(),options,reader);
          }
  finally {
            reader.close();
          }
        }
 else         if (paramName.equals("url")) {
          url=paramPart.getStringValue();
        }
 else {
          options.put(paramName,paramPart.getStringValue());
        }
      }
    }
    if (url != null && url.length() > 0) {
      internalImportURL(request,project,options,url);
    }
  }
}
